# APIs

## Server socket.io API

Server-side API sends socket events to the client.

- `connection` event broadcasts :
	- `connect message` : The connection event
	- `client ID` : The new user ID (String).

- `movement` event broadcasts movement events.
- `disconnect` event broadcasts client disconnection.

## sendToServer.js client-side API

sendToServer.js handles events dispatching.

The serverObject provides methods to use on the client :

- `serverObject.sendNewUser()` returns a client ID (String)
- `serverObject.sendDeleteUser()` returns a string telling that a client has disconnected.
- `serverObject.sendMove(event)` returns movement events. Takes an event parameter corresponding to the executed movement.

- Socket.io `start` emits the start message to the client.
- Socket.io `end` emits the end message to the client.
- Socket.io `Client ID` emits the client ID message to the client.
- Socket.io `Connect message` emits the connection message to the client.
- Socket.io `disconnect` emits the disconnection message to the client.

We also emit a disconnect message when the window event 'offline' is triggered.

## Client socket.io API

- `connection` event creates a new Snake on the board.
- `disconnection` event removes the Snake generated by the disconnected user.